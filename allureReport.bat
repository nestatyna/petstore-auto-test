@echo off
chcp 65001 > nul

cd /d %~dp0

if not exist "gradlew.bat" (
    echo –û—à–∏–±–∫–∞: –§–∞–π–ª gradlew.bat –Ω–µ –Ω–∞–π–¥–µ–Ω! –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏ bat-—Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
    pause
    exit /b 1
)

echo ======================================
echo üìä –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Allure-–æ—Ç—á–µ—Ç–∞...
echo ======================================
call gradlew allureReport
if errorlevel 1 (
    echo ‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞! –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏.
    pause
    exit /b 1
)

echo ======================================
echo üåç –û—Ç–∫—Ä—ã—Ç–∏–µ Allure-–æ—Ç—á–µ—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ...
echo ======================================
call gradlew allureServe

echo ‚úÖ –ì–æ—Ç–æ–≤–æ! Allure-–æ—Ç—á–µ—Ç –æ—Ç–∫—Ä—ã—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
pause
